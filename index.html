<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>动画天气卡片</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #121212;
            margin: 0;
            padding: 20px;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            margin-bottom: 30px;
        }

        .container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            max-width: 1200px;
        }

        .weather-card {
            width: 250px;
            height: 350px;
            background-color: #1e1e1e;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid #333;
        }

        .card-title {
            position: absolute;
            top: 15px;
            left: 15px;
            font-size: 24px;
            z-index: 10;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
        }

        /* 风的样式 */
        .wind-card {
            background: linear-gradient(to bottom, #2c3e50, #34495e);
        }

        .cloud {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
        }

        .tree {
            position: absolute;
            bottom: 40px;
            width: 20px;
            background-color: #5D4037;
            transform-origin: bottom center;
        }

        .tree-top {
            position: absolute;
            width: 60px;
            height: 80px;
            background-color: #2E7D32;
            border-radius: 50%;
            transform-origin: bottom center;
        }

        /* 雨的样式 */
        .rain-card {
            background: linear-gradient(to bottom, #2c3e50, #203a43);
        }

        .rain-drop {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.7);
            width: 2px;
            border-radius: 0 0 5px 5px;
        }

        .puddle {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 15px;
            background-color: rgba(176, 224, 230, 0.5);
            border-radius: 50%;
        }

        .ripple {
            position: absolute;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            opacity: 1;
        }

        /* 太阳的样式 */
        .sun-card {
            background: linear-gradient(to bottom, #f39c12, #d35400);
        }

        .sun {
            position: absolute;
            width: 80px;
            height: 80px;
            background-color: #f1c40f;
            border-radius: 50%;
            box-shadow: 0 0 20px 5px #f39c12;
        }

        .ray {
            position: absolute;
            top: 50%;
            left: 50%;
            height: 2px;
            background-color: #f1c40f;
            transform-origin: left center;
        }

        /* 雪的样式 */
        .snow-card {
            background: linear-gradient(to bottom, #34495e, #2c3e50);
        }

        .snowflake {
            position: absolute;
            color: white;
            user-select: none;
            z-index: 1;
        }

        .ground {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 5px 5px 0 0;
        }

        /* 按钮样式 */
        .controls {
            margin-top: 30px;
            display: flex;
            gap: 10px;
        }

        button {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            background-color: #3498db;
            color: white;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }

        button.active {
            background-color: #e74c3c;
        }

        /* 天气图标 */
        .weather-icon {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 28px;
        }

        @keyframes moveCloud {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(350px); }
        }

        @keyframes swayTree {
            0% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
            100% { transform: rotate(-5deg); }
        }

        @keyframes rainFall {
            0% { transform: translateY(-10px); opacity: 0; }
            10% { opacity: 1; }
            100% { transform: translateY(350px); opacity: 0; }
        }

        @keyframes expandRipple {
            0% { width: 0; height: 0; opacity: 1; }
            100% { width: 50px; height: 50px; opacity: 0; }
        }

        @keyframes pulseGlow {
            0% { box-shadow: 0 0 20px 5px #f39c12; }
            50% { box-shadow: 0 0 40px 10px #f39c12; }
            100% { box-shadow: 0 0 20px 5px #f39c12; }
        }

        @keyframes rotateRay {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        @keyframes snowFall {
            0% { transform: translateY(-10px) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            100% { transform: translateY(350px) rotate(360deg); opacity: 0; }
        }

        @keyframes drift {
            0% { transform: translateX(0); }
            50% { transform: translateX(10px); }
            100% { transform: translateX(0); }
        }
    </style>
</head>
<body>
    <h1>动画天气卡片</h1>
    
    <div class="container">
        <div class="weather-card wind-card" id="wind-card">
            <div class="card-title">风</div>
            <div class="weather-icon">🌬️</div>
            <!-- 风的元素将由JavaScript生成 -->
        </div>
        
        <div class="weather-card rain-card" id="rain-card">
            <div class="card-title">雨</div>
            <div class="weather-icon">🌧️</div>
            <div class="puddle"></div>
            <!-- 雨的元素将由JavaScript生成 -->
        </div>
        
        <div class="weather-card sun-card" id="sun-card">
            <div class="card-title">太阳</div>
            <div class="weather-icon">☀️</div>
            <!-- 太阳的元素将由JavaScript生成 -->
        </div>
        
        <div class="weather-card snow-card" id="snow-card">
            <div class="card-title">雪</div>
            <div class="weather-icon">❄️</div>
            <div class="ground"></div>
            <!-- 雪的元素将由JavaScript生成 -->
        </div>
    </div>
    
    <div class="controls">
        <button id="start-all" class="active">开始所有动画</button>
        <button id="stop-all">停止所有动画</button>
    </div>

    <script>
        // 天气效果控制变量
        let animationsRunning = true;
        let windInterval, rainInterval, sunInterval, snowInterval;
        
        // 初始化所有天气效果
        document.addEventListener('DOMContentLoaded', () => {
            initWind();
            initRain();
            initSun();
            initSnow();
            
            // 按钮事件监听
            document.getElementById('start-all').addEventListener('click', startAllAnimations);
            document.getElementById('stop-all').addEventListener('click', stopAllAnimations);
        });
        
        // 开始所有动画
        function startAllAnimations() {
            if (!animationsRunning) {
                animationsRunning = true;
                initWind();
                initRain();
                initSun();
                initSnow();
                document.getElementById('start-all').classList.add('active');
                document.getElementById('stop-all').classList.remove('active');
            }
        }
        
        // 停止所有动画
        function stopAllAnimations() {
            if (animationsRunning) {
                animationsRunning = false;
                clearInterval(windInterval);
                clearInterval(rainInterval);
                clearInterval(sunInterval);
                clearInterval(snowInterval);
                document.getElementById('stop-all').classList.add('active');
                document.getElementById('start-all').classList.remove('active');
            }
        }
        
        // 初始化风效果
        function initWind() {
            const windCard = document.getElementById('wind-card');
            
            // 创建云朵
            for (let i = 0; i < 3; i++) {
                createCloud(windCard, i);
            }
            
            // 创建树
            createTree(windCard);
            
            // 定期创建新的云朵
            if (animationsRunning) {
                windInterval = setInterval(() => {
                    if (windCard.querySelectorAll('.cloud').length < 6) {
                        createCloud(windCard, Math.random() * 3);
                    }
                }, 3000);
            }
        }
        
        // 创建云朵
        function createCloud(card, order) {
            const cloud = document.createElement('div');
            cloud.classList.add('cloud');
            
            const size = 30 + Math.random() * 40;
            const topPosition = 50 + order * 60;
            const duration = 15 + Math.random() * 10;
            
            cloud.style.width = size * 2 + 'px';
            cloud.style.height = size + 'px';
            cloud.style.top = topPosition + 'px';
            cloud.style.left = '-100px';
            cloud.style.animation = `moveCloud ${duration}s linear forwards`;
            
            // 为云朵创建不规则形状
            const bubbles = Math.floor(3 + Math.random() * 3);
            for (let i = 0; i < bubbles; i++) {
                const bubble = document.createElement('div');
                bubble.style.position = 'absolute';
                bubble.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';
                bubble.style.borderRadius = '50%';
                bubble.style.width = (size * 0.7) + 'px';
                bubble.style.height = (size * 0.7) + 'px';
                bubble.style.top = (Math.random() * 10) + 'px';
                bubble.style.left = (i * (size / 2)) + 'px';
                cloud.appendChild(bubble);
            }
            
            card.appendChild(cloud);
            
            // 动画结束时移除云朵
            setTimeout(() => {
                if (card.contains(cloud)) {
                    card.removeChild(cloud);
                }
            }, duration * 1000);
        }
        
        // 创建树
        function createTree(card) {
            const tree = document.createElement('div');
            tree.classList.add('tree');
            tree.style.left = '125px';
            tree.style.height = '100px';
            tree.style.animation = 'swayTree 3s ease-in-out infinite';
            
            const treeTop = document.createElement('div');
            treeTop.classList.add('tree-top');
            treeTop.style.left = '-20px';
            treeTop.style.bottom = '90px';
            treeTop.style.animation = 'swayTree 3s ease-in-out infinite';
            
            card.appendChild(tree);
            card.appendChild(treeTop);
        }
        
        // 初始化雨效果
        function initRain() {
            const rainCard = document.getElementById('rain-card');
            
            // 创建初始雨滴
            for (let i = 0; i < 15; i++) {
                createRaindrop(rainCard);
            }
            
            // 定期创建新的雨滴
            if (animationsRunning) {
                rainInterval = setInterval(() => {
                    createRaindrop(rainCard);
                    
                    // 随机创建水坑涟漪
                    if (Math.random() < 0.3) {
                        createRipple(rainCard);
                    }
                }, 100);
            }
        }
        
        // 创建雨滴
        function createRaindrop(card) {
            const raindrop = document.createElement('div');
            raindrop.classList.add('rain-drop');
            
            const height = 10 + Math.random() * 15;
            const duration = 0.8 + Math.random() * 0.5;
            const leftPosition = Math.random() * 250;
            
            raindrop.style.height = height + 'px';
            raindrop.style.left = leftPosition + 'px';
            raindrop.style.top = '-10px';
            raindrop.style.animation = `rainFall ${duration}s linear forwards`;
            
            card.appendChild(raindrop);
            
            // 动画结束时移除雨滴
            setTimeout(() => {
                if (card.contains(raindrop)) {
                    card.removeChild(raindrop);
                }
            }, duration * 1000);
        }
        
        // 创建水坑涟漪
        function createRipple(card) {
            const ripple = document.createElement('div');
            ripple.classList.add('ripple');
            
            const left = 75 + Math.random() * 100;
            ripple.style.left = left + 'px';
            ripple.style.bottom = '20px';
            ripple.style.animation = 'expandRipple 2s linear forwards';
            
            card.appendChild(ripple);
            
            // 动画结束时移除涟漪
            setTimeout(() => {
                if (card.contains(ripple)) {
                    card.removeChild(ripple);
                }
            }, 2000);
        }
        
        // 初始化太阳效果
        function initSun() {
            const sunCard = document.getElementById('sun-card');
            
            // 创建太阳
            const sun = document.createElement('div');
            sun.classList.add('sun');
            sun.style.top = '120px';
            sun.style.left = '125px';
            sun.style.animation = 'pulseGlow 4s infinite';
            
            sunCard.appendChild(sun);
            
            // 创建太阳光线
            const rayContainer = document.createElement('div');
            rayContainer.style.position = 'absolute';
            rayContainer.style.top = '120px';
            rayContainer.style.left = '125px';
            rayContainer.style.width = '0';
            rayContainer.style.height = '0';
            rayContainer.style.animation = 'rotateRay 20s linear infinite';
            
            for (let i = 0; i < 12; i++) {
                const ray = document.createElement('div');
                ray.classList.add('ray');
                ray.style.width = '40px';
                ray.style.transform = `rotate(${i * 30}deg)`;
                rayContainer.appendChild(ray);
            }
            
            sunCard.appendChild(rayContainer);
            
            // 创建随机闪烁的光点
            if (animationsRunning) {
                sunInterval = setInterval(() => {
                    createSunSparkle(sunCard);
                }, 500);
            }
        }
        
        // 创建阳光闪烁
        function createSunSparkle(card) {
            const sparkle = document.createElement('div');
            sparkle.style.position = 'absolute';
            sparkle.style.width = '5px';
            sparkle.style.height = '5px';
            sparkle.style.backgroundColor = '#fff';
            sparkle.style.borderRadius = '50%';
            sparkle.style.boxShadow = '0 0 10px 2px rgba(255, 255, 255, 0.7)';
            
            const left = Math.random() * 250;
            const top = Math.random() * 350;
            
            sparkle.style.left = left + 'px';
            sparkle.style.top = top + 'px';
            sparkle.style.opacity = '0';
            sparkle.style.animation = 'drift 2s ease-in-out';
            
            // 淡入淡出效果
            sparkle.animate([
                { opacity: 0 },
                { opacity: 1 },
                { opacity: 0 }
            ], {
                duration: 2000,
                easing: 'ease-in-out'
            });
            
            card.appendChild(sparkle);
            
            // 动画结束时移除闪光
            setTimeout(() => {
                if (card.contains(sparkle)) {
                    card.removeChild(sparkle);
                }
            }, 2000);
        }
        
        // 初始化雪效果
        function initSnow() {
            const snowCard = document.getElementById('snow-card');
            
            // 创建初始雪花
            for (let i = 0; i < 10; i++) {
                createSnowflake(snowCard, Math.random() * 350);
            }
            
            // 定期创建新的雪花
            if (animationsRunning) {
                snowInterval = setInterval(() => {
                    createSnowflake(snowCard, -10);
                }, 300);
            }
        }
        
        // 创建雪花
        function createSnowflake(card, startY) {
            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');
            
            const size = 10 + Math.random() * 15;
            const duration = 5 + Math.random() * 5;
            const leftPosition = Math.random() * 250;
            
            // 使用Unicode雪花字符或自定义雪花
            snowflake.innerHTML = '❅';
            snowflake.style.fontSize = size + 'px';
            snowflake.style.left = leftPosition + 'px';
            snowflake.style.top = startY + 'px';
            snowflake.style.animation = `snowFall ${duration}s linear forwards, drift ${duration/2}s ease-in-out infinite`;
            
            card.appendChild(snowflake);
            
            // 动画结束时移除雪花
            setTimeout(() => {
                if (card.contains(snowflake)) {
                    card.removeChild(snowflake);
                }
            }, duration * 1000);
        }
    </script>
</body>
</html>